<section class="container page-content">

  <!-- Breadcrumb navigation -->
  <nav class="breadcrumb alert alert-secondary" aria-label="breadcrumb" *ngIf="subjectid !== null && topicid !== null && testid !== null">
      <a class="breadcrumb-item" routerLink="{{ navService.getSubjectListRoute() }}">Subjects</a>
      <a class="breadcrumb-item" routerLink="{{ navService.getSubjectHomeRoute(subjectid) }}">{{ subjectid }}</a>
      <a class="breadcrumb-item" routerLink="{{ navService.getTopicListRoute(subjectid) }}">Topics</a>
      <a class="breadcrumb-item" routerLink="{{ navService.getTopicHomeRoute(subjectid, topicid) }}">{{ topicid }}</a>
      <a class="breadcrumb-item" routerLink="{{ navService.getTestListRoute(subjectid, topicid) }}">Tests</a>
      <a class="breadcrumb-item" routerLink="{{ navService.getTestHomeRoute(subjectid, topicid, testid) }}">{{ testid }}</a>
      <span class="breadcrumb-item active" aria-current="page">User Tests</span>
  </nav>

  <!-- List of previous results -->
  <ul class="content-list">
    <h2>Previous Results for Test:</h2>
    <!-- Display item for each result -->
    <li *ngFor="let result of userTestResults$; let i = index">

      <div class="card">
        <h5 class="card-header">{{ result.title }}</h5>
        <div class="card-body" style="font-size: 14pt;">
          <div>Test Score: {{ result.score }} / {{ result.questionCount }}.</div>
          <div>Date: {{ result.date }}.</div>
          <button class="btn btn-primary">View Details (Not Implemented)</button>
        </div>
      </div>

    </li>
  </ul>


  <!-- Infinite scroll div -->
  <div infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="1000" (scrolled)="onScroll()"></div>

  <app-loader *ngIf="!endOfContent; else endOfContentTemplate"></app-loader>
  <ng-template #endOfContentTemplate>
    <div class="alert alert-warning">
      End of Previous Results
    </div>
  </ng-template>
</section>