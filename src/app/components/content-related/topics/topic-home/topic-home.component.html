<section class="container page-content">

  <ng-container *ngIf="(this.topic$ !== null); else loadingTemplate">
    <h2>
      {{ topic$.name }}
    </h2>
    <div class="page-sub-content">
      <p>{{ topic$.description }}</p>
    </div>



    <!-- List lessons / tests in topic. -->
    <section *ngIf="(this.lessons$ !== null || this.tests$ !== null)">
      <div class="row">
        <div class="col" *ngIf="(this.lessons$ !== null)">
          <h2>Select a Lesson:</h2>
          <ul class="content-list">
            <li *ngFor="let lesson of lessons$">
              <button class="card" routerLink="lessons/{{ lesson.id }}">
                <div class="card-body">
                  {{ lesson.name }}
                </div>
              </button>
            </li>
          </ul>
        </div>

        <div class="col" *ngIf="(this.tests$ !== null)">
          <h2>Select a Test:</h2>
          <ul class="content-list">
            <li *ngFor="let test of tests$">
              <button class="card" routerLink="tests/{{ test.id }}">
                <div class="card-body">
                  {{ test.name }}
                </div>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </section>
  </ng-container>



  <ng-template #loadingTemplate>
    <ng-container *ngIf="!loadingError; else loadingErrorTemplate">
      <app-loader></app-loader>
    </ng-container>
    <ng-template #loadingErrorTemplate>
      Loading failed
    </ng-template>

  </ng-template>

</section>